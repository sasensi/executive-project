$(document).ready(function(){$('[data-role="tagPicker"]').each(function(){for(var a=$(this).attr("data-items").split(","),b=[],c=0;c<a.length;c++){var d=a[c];b.push({value:d})}var e=new Bloodhound({local:b,datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.value)},queryTokenizer:Bloodhound.tokenizers.whitespace});e.initialize(),$(this).on("tokenfield:createtoken",function(a){for(var b=$(this).tokenfield("getTokens"),c=a.attrs.value,d=0;d<b.length;d++){var e=b[d];if(e!==this&&c.toUpperCase()===e.value.toUpperCase())return a.preventDefault(),!1}}).tokenfield({typeahead:[null,{source:e.ttAdapter()}]})}),$(".datePicker").datepicker({format:"dd/mm/yyyy"}),$('input[type="file"]').fileinput({language:"fr",browseOnZoneClick:!0,showUpload:!1}),$(".phoneInput").intlTelInput({autoFormat:!0,utilsScript:"../vendor/intl-tel-input-7.1.0/lib/libphonenumber/build/utils.js",initialCountry:"fr"})}),$(document).ready(function(){$(".giftsAddButton").click(function(a){a.preventDefault();var b=$(this).closest(".giftsWrapper"),c=parseInt(b.find("fieldset").last().attr("data-index"))+1||0,d=b.attr("data-name");$.ajax({dataType:"json",method:"GET",url:_App.rootUrl+"/ws/content/gift",data:{index:c,name:d},success:function(a){return a.success?void b.append(a.data):(console.log(a.error),!1)}})}),$("body").on("click",".giftDeleteButton",function(a){a.preventDefault(),confirm("Voulez-vous vraiment supprimer cette contrepartie ?")&&$(this).closest("fieldset").remove()})});